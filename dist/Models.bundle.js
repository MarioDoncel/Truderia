(()=>{window.Cart={init(t){return t?(this.items=t.items,this.total=t.total,this.date=t.date):(this.items=[],this.total={quantity:0,totalPrice:0},this.date=new Date),this},addOne(t){let i=this.findItem(t);i||(i={product:{...t},quantity:0,totalPrice:0},this.items.push(i));let e=0;i.product.additional&&i.product.additional.forEach((t=>{e+=t.price*t.quantity}));const a=i.product.price+e;return i.quantity++,i.totalPrice=i.quantity*a,this.total.quantity++,this.total.totalPrice+=a,this},removeOne(t){const i=this.findItem(t);return i.quantity--,i.totalPrice-=t.price,this.total.quantity--,this.total.totalPrice-=t.price,0==i.quantity&&this.deleteProduct(t),this},deleteItem(t){const i=this.findItem(t);return this.total.quantity-=i.quantity,this.total.totalPrice-=i.totalPrice,this.items=this.items.filter((i=>t.flavour!=i.product.flavour||t.category!=i.product.category||i.product.additional!=t.additional)),this},findItem(t){return this.items.find((i=>i.product.flavour==t.flavour&&t.category==i.product.category&&JSON.stringify(i.product.additional)==JSON.stringify(t.additional)))}};class t{constructor(){this.data={name:"",telephone:"",address:{zipCode:"",street:"",district:"",number:"",complement:""}}}checkClientExists(){let i=JSON.parse(localStorage.getItem("client"));return i||(i=new t),i}init(){return this.checkClientExists()}updateName(t){return this.data=this.checkClientExists().data,this.data.name=t,this}updateTelephone(t){return this.data=this.checkClientExists().data,this.data.telephone=t,this}updateZipCode(t){return this.data=this.checkClientExists().data,this.data.address.zipCode=t,this}updateVIACEP(t){return this.data=this.checkClientExists().data,this.data.address.street=t.address.street,this.data.address.district=t.address.district,this.data.address.zipCode=t.address.zipCode,this}updateStreet(t){return this.data=this.checkClientExists().data,this.data.address.street=t,this}updateDistrict(t){return this.data=this.checkClientExists().data,this.data.address.district=t,this}updateNumber(t){return this.data=this.checkClientExists().data,this.data.address.number=t,this}updateComplement(t){return this.data=this.checkClientExists().data,this.data.address.complement=t,this}}window.Client=new t})();
//# sourceMappingURL=Models.bundle.js.map